<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="icpsrdata">
<title>icpsrdata: Reproducible Data Retrieval from the ICPSR Archive • icpsrdata</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="icpsrdata: Reproducible Data Retrieval from the ICPSR Archive">
<meta property="og:description" content="icpsrdata">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">icpsrdata</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.6.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/icpsrdata-vignette.html">icpsrdata: Reproducible Data Retrieval from the ICPSR Archive</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/fsolt/icpsrdata/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>icpsrdata: Reproducible Data Retrieval from the ICPSR Archive</h1>
                        <h4 data-toc-skip class="author">Frederick
Solt</h4>
            
            <h4 data-toc-skip class="date">2023-07-05</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/fsolt/icpsrdata/blob/HEAD/vignettes/icpsrdata-vignette.Rmd" class="external-link"><code>vignettes/icpsrdata-vignette.Rmd</code></a></small>
      <div class="d-none name"><code>icpsrdata-vignette.Rmd</code></div>
    </div>

    
    
<p>The Inter-university Consortium for Political and Social Research, in
its own words, “provides leadership and training in data access,
curation, and methods of analysis for the social science research
community.” The ICPSR data archive stores thousands of datasets on a
wide range of topics. Researchers taking advantage of these datasets,
however, are caught in a bind. The terms and conditions for downloading
any ICPSR dataset state that one agrees “not to redistribute data or
other materials without the written agreement of ICPSR.”<a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content="&lt;p&gt;The terms &lt;em&gt;do&lt;/em&gt; include an exception for
“collaborating with other AUTHORIZED USERS to analyze the data for
research or instructional purposes” with attribution, but the limitation
to ICPSR’s authorized users renders this inadequate for the public
provision of materials for reproducibility.&lt;/p&gt;"><sup>1</sup></a> But to ensure that
one’s work can be reproduced, assessed, and built upon by others, one
must provide access to the raw data one employed. The
<code>icpsrdata</code> package cuts this knot by providing programmatic,
reproducible access to ICPSR’s datasets from within R.</p>
<div class="section level2">
<h2 id="setup">Setup<a class="anchor" aria-label="anchor" href="#setup"></a>
</h2>
<p>When used interactively, the <code>icpsr_download</code> function
will be ask for the login information required by ICPSR: the user’s
email and password. After that information is input once, it will be
entered automatically for any other download requests made in the same
session.</p>
<p>To change this contact information within a session, one may set the
argument <code>reset</code> to <code>TRUE</code> when running
<code>icpsr_download</code> again, and the function will again request
the required information.</p>
<p>An optional, but highly recommended, setup step is to add the login
information ICPSR requires to your <a href="https://www.statmethods.net/interface/customizing.html" class="external-link">.Rprofile</a>
as in the following example:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span><span class="st">"icpsr_email"</span> <span class="op">=</span> <span class="st">"juanita-herrera@uppermidwest.edu"</span>,</span>
<span>        <span class="st">"icpsr_password"</span> <span class="op">=</span> <span class="st">"password123!"</span><span class="op">)</span></span></code></pre></div>
<p>The <code>icpsr_download</code> function will then access the
information it needs to pass on to ICPSR by default. This means that
researchers will not have to expose their info in their R scripts and
that others reproducing their results later will be able to execute
those R scripts without modification. (They will, however, need to enter
their own information into their own .Rprofiles, a detail that should be
noted in the reproducibility materials to avoid confusion.)</p>
</div>
<div class="section level2">
<h2 id="use">Use<a class="anchor" aria-label="anchor" href="#use"></a>
</h2>
<p>The <code>icpsr_download</code> function (1) simulates a visit to the
website of the specified ICPSR dataset (2) enters the required
information and agrees to the terms and conditions of the download, (3)
downloads the dataset’s files, and, optionally but by default, (4)
decompresses the dataset’s files to a subdirectory within a specified
directory (or, by default, a <code>icpsr_data</code> directory in the
current working directory).</p>
<p>Datasets are specified using the <code>file_id</code> argument. ICPSR
uses a unique number to identify each of its datasets; this number is
consistently listed alongside the dataset’s name. For the <a href="https://www.icpsr.umich.edu/icpsrweb/ICPSR/studies/36138" class="external-link">2014
Transatlantic Trends Survey</a>, for example, the file id is 36138:</p>
<p><img src="icpsr_tt2014.png" style="width: 100%;"></p>
<p>To reproducibly download this dataset:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/icpsr_download.html">icpsr_download</a></span><span class="op">(</span>file_id <span class="op">=</span> <span class="fl">36138</span>,</span>
<span>               download_dir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="co"># remember to specify a directory for your download</span></span></code></pre></div>
<p>Multiple datasets may be downloaded from the same research area in a
single command by passing a vector of ids to <code>file_id</code>. The
following downloads the Transatlantic Trends surveys for 2012, 2013, and
2014:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/icpsr_download.html">icpsr_download</a></span><span class="op">(</span>file_id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">34715</span>, <span class="fl">34973</span>, <span class="fl">36138</span><span class="op">)</span>,</span>
<span>               download_dir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="co"># remember to specify a directory for your download</span></span></code></pre></div>
<p>After the needed datasets are downloaded, they are, by default,
unzipped and ready to be loaded into R using, e.g.,
<code>rio::import</code>.</p>
</div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Frederick Solt, Kellen Gracey.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
